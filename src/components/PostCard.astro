---
import {
  Card,
  CardContent,
  CardDescription,
  CardHeader,
  CardTitle,
} from "@/components/ui/card";
import { Badge } from "@/components/ui/badge";

export interface Props {
  post: any;
  isSticky?: boolean;
}

const { post, isSticky = false } = Astro.props;
---

<a href={`/posts/${post.id}`} class="block group">
  <Card
    className="transition-all duration-200 hover:shadow-lg hover:scale-[1.02] cursor-pointer relative"
  >
    {
      isSticky && (
        <div class="absolute top-3 right-3 text-yellow-600 text-lg">ðŸ“Œ</div>
      )
    }
    <CardHeader>
      <CardTitle
        className="group-hover:text-violet-400 transition-colors text-xl"
      >
        {post.data.title || "Untitled"}
      </CardTitle>
      {
        post.data.summary && (
          <CardDescription>{post.data.summary}</CardDescription>
        )
      }
      {
        post.data.date && (
          <CardDescription className="text-sm text-gray-500">
            {new Date(post.data.date).toLocaleDateString("en-US", {
              year: "numeric",
              month: "long",
              day: "numeric",
            })}
            Â· {post.data.author}
          </CardDescription>
        )
      }
      {
        post.data.tags && post.data.tags.length > 0 && (
          <div class="flex flex-wrap gap-2 mt-2">
            {post.data.tags.map((tag: string) => (
              <Badge variant="outline">{tag}</Badge>
            ))}
          </div>
        )
      }
    </CardHeader>
  </Card>
</a>
